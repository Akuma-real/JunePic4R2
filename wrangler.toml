name = "junepic4r2"
compatibility_date = "2025-01-06"

# D1 数据库绑定
# 1. 创建数据库: pnpm wrangler d1 create junepic_db
# 2. 应用迁移: pnpm wrangler d1 execute junepic_db --file=./db/migrations/001_initial_schema.sql
[[d1_databases]]
binding = "DB" # 在 Pages Functions 中通过 context.env.DB 访问
database_name = "junepic_db"
database_id = "8014f39c-4b99-43b3-8922-4d64c2a9326a"

# R2 存储绑定
# 1. 创建 bucket: wrangler r2 bucket create pic
# 2. 在 Pages Functions 中通过 context.env.R2_BUCKET 访问
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "pic"

# 环境变量（敏感信息应使用 Cloudflare Dashboard 配置）
# Settings > Environment Variables in Cloudflare Pages
# 敏感数据：SESSION_SECRET, GITHUB_CLIENT_ID, GITHUB_CLIENT_SECRET
[vars]
ENVIRONMENT = "production"
APP_URL = "https://your-domain.com"  # 替换为你的域名
R2_PUBLIC_URL = "https://your-r2-domain.com"  # 替换为你的 R2 公共域名

# Pages Functions 配置
# Pages Functions 会自动从 functions/ 目录读取
# 无需额外配置，部署时会自动生效
