name = "junepic4r2"
compatibility_date = "2025-01-06"

# D1 数据库绑定
# 1. 创建数据库: pnpm wrangler d1 create junepic_db
# 2. 应用迁移: pnpm wrangler d1 execute junepic_db --file=./db/migrations/001_initial_schema.sql
[[d1_databases]]
binding = "DB" # 在 Pages Functions 中通过 context.env.DB 访问
database_name = "junepic_db"
database_id = "281975b0-090d-4d56-ab40-da68672d9c2a"

# R2 存储绑定
# 1. 创建 bucket: wrangler r2 bucket create pic
# 2. 在 Pages Functions 中通过 context.env.R2_BUCKET 访问
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "pic"

# 环境变量（敏感信息应使用 Cloudflare Dashboard 配置）
# Settings > Environment Variables in Cloudflare Pages
# 敏感数据：SESSION_SECRET, GITHUB_CLIENT_ID, GITHUB_CLIENT_SECRET
[vars]
ENVIRONMENT = "production"
APP_URL = "https://your-domain.com"  # 替换为你的域名
R2_PUBLIC_URL = "https://your-r2-domain.com"  # 替换为你的 R2 公共域名
# 可选：Referer 白名单（逗号分隔，支持通配 *.example.com）。留空则不启用校验
# ALLOWED_REFERERS = "yourdomain.com,*.yourdomain.com"
# 单用户邮箱（唯一允许登录并为管理员）
# OWNER_EMAIL = "you@example.com"

# Pages Functions 配置
# Pages Functions 会自动从 functions/ 目录读取
# 无需额外配置，部署时会自动生效
